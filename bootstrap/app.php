<?php

use Ludens\Core\Application;

/*
|--------------------------------------------------------------------------
| Create The Application
|--------------------------------------------------------------------------
*/

$app = Application::getInstance();

/*
|--------------------------------------------------------------------------
| Bind Important Paths
|--------------------------------------------------------------------------
*/

$app->usePathsFrom(require __DIR__ . '/../config/paths.php');

/*
|--------------------------------------------------------------------------
| Load Environment Variables
|--------------------------------------------------------------------------
*/

$app->loadEnvironmentFrom(__DIR__ . '/../.env');

/*
|--------------------------------------------------------------------------
| Load Configuration
|--------------------------------------------------------------------------
*/

$app->loadConfiguration();

/*
|--------------------------------------------------------------------------
| Configure Exception Handling
|--------------------------------------------------------------------------
*/

$app->configureExceptionHandling();

/*
|--------------------------------------------------------------------------
| Register the application providers
|--------------------------------------------------------------------------
*/

$app->bootProviders();

/*
|--------------------------------------------------------------------------
| Register Routes
|--------------------------------------------------------------------------
*/

$app->bootRoutes();

return $app;